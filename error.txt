System.InvalidOperationException
  HResult=0x80131509
  Message=The transaction associated with this command is not the connection's active transaction; see https://mysqlconnector.net/trans
  Source=System.Private.CoreLib
  StackTrace:
   at System.Runtime.CompilerServices.ConfiguredValueTaskAwaitable`1.ConfiguredValueTaskAwaiter.GetResult()
   at MySqlConnector.MySqlCommand.<ExecuteScalarAsync>d__83.MoveNext() in /_/src/MySqlConnector/MySqlCommand.cs:line 324
   at Dapper.SqlMapper.<ExecuteScalarImplAsync>d__69`1.MoveNext() in /_/Dapper/SqlMapper.Async.cs:line 1241
   at real_proxy_api.Repositories.PaymentRepository.<CreatePaymentAsync>d__2.MoveNext() in E:\Rayhan\next js\real-proxy-api\Repositories\PaymentRepository.cs:line 43
   at real_proxy_api.Repositories.PaymentRepository.<CreatePaymentWithMetadataAsync>d__25.MoveNext() in E:\Rayhan\next js\real-proxy-api\Repositories\PaymentRepository.cs:line 359

  This exception was originally thrown at this call stack:
    System.Runtime.CompilerServices.ConfiguredValueTaskAwaitable<TResult>.ConfiguredValueTaskAwaiter.GetResult()
    MySqlConnector.MySqlCommand.ExecuteScalarAsync(MySqlConnector.Protocol.Serialization.IOBehavior, System.Threading.CancellationToken) in MySqlCommand.cs
    Dapper.SqlMapper.ExecuteScalarImplAsync<T>(System.Data.IDbConnection, Dapper.CommandDefinition) in SqlMapper.Async.cs
    real_proxy_api.Repositories.PaymentRepository.CreatePaymentAsync(real_proxy_api.Models.Payment) in PaymentRepository.cs
    real_proxy_api.Repositories.PaymentRepository.CreatePaymentWithMetadataAsync(real_proxy_api.Models.Payment, real_proxy_api.Models.PaymentMetadata, real_proxy_api.Models.PaymentLog) in PaymentRepository.cs

curl -X 'POST' \
  'http://localhost:5157/api/Payment/initialize' \
  -H 'accept: */*' \
  -H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1laWRlbnRpZmllciI6IjEiLCJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9lbWFpbGFkZHJlc3MiOiJwZXJzb25hbC5hYmlkcmF5aGFuQGdtYWlsLmNvbSIsImp0aSI6ImM5ZmVhYjgyLThkODAtNDIyOC04N2ZjLWFiYWMzNGZkNmM0MyIsImV4cCI6MTc3MDAzNTEwNiwiaXNzIjoicmVhbC1wcm94eS1hcGkiLCJhdWQiOiJyZWFsLXByb3h5LWFwaS1jbGllbnQifQ.WJmehJ5a0-bMPBXfmcieb1NSdn-Gu0aYs458hLnqNEk' \
  -H 'Content-Type: application/json' \
  -d '{
  "customerOrderId": "ORDER1245678",
  "merchantTransactionId": "20240126112347888",
  "transactionTypeId": 1,
  "totalAmount": 1000.50,
  "successUrl": "http://localhost:5157/api/payment/callback/success",
  "failUrl": "http://localhost:5157/api/payment/callback/fail",
  "cancelUrl": "http://localhost:5157/api/payment/callback/cancel",
  "customerName": "John Doe",
  "customerEmail": "john@example.com",
  "customerAddress": "123 Main Street",
  "customerCity": "Dhaka",
  "customerState": "Dhaka",
  "customerPostcode": "1230",
  "customerCountry": "BD",
  "customerPhone": "01712345678",
  "productName": "Premium Package",
  "productProfile": "general",
  "productCategory": "Subscription",
  "productList": [
    {
      "productName": "Item 1",
      "noOfItem": "2",
      "productProfile": "Profile 1",
      "productCategory": "Category 1",
      "productPrice": "500.25"
    },
    {
      "productName": "Item 2",
      "noOfItem": "1",
      "productProfile": "Profile 2",
      "productCategory": "Category 2",
      "productPrice": "500.25"
    }
  ]
}'

{
  "message": "The transaction associated with this command is not the connection's active transaction; see https://mysqlconnector.net/trans",
  "errorCode": "EXCEPTION"
}